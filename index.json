[
{
	"uri": "/4-roleforproxy/4.1-createpolicy/",
	"title": "Create Policy",
	"tags": [],
	"description": "",
	"content": "Execution sequence Quay trở lại cửa sổ MobaXterm Lấy thông tin Secret ARN của secretPostgresqlUser trong AWS Secrets Manager. Lưu lại thông tin này. aws secretsmanager describe-secret --secret-id secretPostgresqlUser --region ap-southeast-1 --query \u0026#34;ARN\u0026#34; --output text Lấy thông tin Key ARN của aws/secretsmanager trong AWS KMS. Key này là Key mặc định chúng ta đã chọn để Encrypt Secret ở chương 3. Lưu lại thông tin này. aws kms describe-key --key-id alias/aws/secretsmanager --query \u0026#34;KeyMetadata.Arn\u0026#34; --output text Truy cập Giao diện quản trị dịch vụ IAM Chọn Policies Chọn Create policy Chọn JSON Copy và dán đoạn mã JSON sau đây để định nghĩa các quyền cho Policy Thay \u0026lt;CHANGE_YOUR_SECRET_ARN_HERE\u0026gt; bằng Secret ARN ở bước trên Thay \u0026lt;CHANGE_YOUR_KEY_ARN_HERE\u0026gt; bằng Key ARN ở bước trên Chọn Next {\r\u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;,\r\u0026#34;Statement\u0026#34;: [\r{\r\u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor0\u0026#34;,\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: \u0026#34;secretsmanager:GetSecretValue\u0026#34;,\r\u0026#34;Resource\u0026#34;: \u0026#34;\u0026lt;CHANGE_YOUR_SECRET_ARN_HERE\u0026gt;\u0026#34;\r},\r{\r\u0026#34;Sid\u0026#34;: \u0026#34;VisualEditor1\u0026#34;,\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: \u0026#34;kms:Decrypt\u0026#34;,\r\u0026#34;Resource\u0026#34;: \u0026#34;\u0026lt;CHANGE_YOUR_KEY_ARN_HERE\u0026gt;\u0026#34;,\r\u0026#34;Condition\u0026#34;: {\r\u0026#34;StringEquals\u0026#34;: {\r\u0026#34;kms:ViaService\u0026#34;: \u0026#34;secretsmanager.ap-southeast-1.amazonaws.com\u0026#34;\r}\r}\r}\r]\r} Tại mục Policy name, nhập FCJ-Proxy-Policy Chọn Create Policy Các quyền được cấp cho chính sách FCJ-Proxy-Policy\n+Được phép GetSecretValue đối với secretPostgresqlUser được lưu trữ trong AWS Secrets Manager\n+Cho phép dịch vụ AWS Secrets Manager sử dụng aws/secretsmanager để thực hiện thao tác Decrypt\n"
},
{
	"uri": "/2-rdspostgresql/2.1-createpostgres/",
	"title": "Create RDS PostgreSQL",
	"tags": [],
	"description": "",
	"content": "Execution sequence Truy cập Giao diện quản trị dịch vụ RDS Chọn Databases Chọn Create Database Tại trang Create database Tại phần Choose a database creation method Tại mục Choose a database creation method, chọn Standard create Tại phần Engine options Tại mục Engine type, chọn PostgreSQL Tại mục Engine Version, chọn PostgreSQL 14.9-R2 Tại phần Templates Chọn Dev/Test Tại phần Availability and durability Chọn Multi-AZ DB instance Tại phần Settings Tại mục DB cluster identifier, nhập postgresql Tại mục Master username, nhập postgres Tại mục Master password, nhập postgres Tại mục Confirm master password, nhập postgres Tại phần Instance configuration Chọn Burstable classes (includes t classes), sau đó chọn db.t3.medium Tại phần Connectivity Tại mục Compute resource, chọn Don’t connect to an EC2 compute resource Tại mục Virtual private cloud (VPC), chọn FCJ-vpc Tại mục DB subnet group, chọn Create new DB Subnet Group Tại mục VPC security group (firewall), chọn Choose existing, sau đó chọn DB-Security-Group Cuộn chuột xuống dưới cùng, chọn Create database, quá trình tạo DB bắt đầu Tại trang Database Chờ cho đến khi status của postgresql chuyển sang Available Chọn postgresql Lưu lại giá trị DB Endpoint để chuẩn bị cho bước sau "
},
{
	"uri": "/5-rdsproxy/5.1-createproxy/",
	"title": "Create RDS Proxy",
	"tags": [],
	"description": "",
	"content": "Execution sequence Truy cập Giao diện quản trị dịch vụ RDS Chọn Proxies Chọn Create proxy Tại trang Create proxy Tại phần Proxy configuration Tại mục Engine family, chọn PostgreSQL Tại mục Proxy identifier, nhập rds-proxy Tại phần Target group configuration Tại mục Database, chọn postgresql Tại phần Authentication Tại mục Identity and access management (IAM) role, chọn FCJ-Proxy-Role Tại mục Secrets Manager secrets, chọn secretPostgresqlUser Tại phần Connectivity, chọn Additional connectivity configuration Tại mục VPC security group, chọn Choose existing Tại mục Existing VPC security groups, chọn DB-Security-Group Cuộn chuột xuống dưới cùng, chọn Create proxy Tại trang Proxies Chờ cho đến khi Status của rds-proxy chuyển sang Available Chọn rds-proxy, lưu lại giá trị Proxy Endpoint để chuẩn bị cho bước sau "
},
{
	"uri": "/1-preparation/1.1-createvpc/",
	"title": "Create VPC",
	"tags": [],
	"description": "",
	"content": "Execution sequence Truy cập giao diện quản trị dịch vụ VPC Chọn Your VPC Chọn Create VPC Tại trang Create VPC Tại mục Resources, chọn VPC and more Tại mục Name tag, nhập FCJ Tại mục Number of Availability Zones (AZs), chọn 2 Tại mục Number of public subnets, chọn 2 Tại mục Number of private subnets, chọn 2 Chọn Create VPC Chờ cho đến khi VPC và các thành phần tạo xong Chọn View VPC Hoàn thành tạo VPC Tại giao diện VPC Chọn Subnets Chọn FCJ-subnet-public1-ap-southeast-1a Chọn Actions, sau đó chọn Edit subnet settings Tại trang Edit subnet settings Tại mục Auto-assign IP settings, tích chọn Enable auto-assign public IPv4 address Chọn Save "
},
{
	"uri": "/7-hafailovers/7.1-testscript/",
	"title": "Download Test Script",
	"tags": [],
	"description": "",
	"content": "Execution sequence Quay trở lại cửa sổ MobaXterm\nCài đặt trình quản lý gói Pip cho python3 curl -sS https://bootstrap.pypa.io/get-pip.py | python3 Cài đặt thư viện psycopg2 để kết nối với PostgreSQL pip install psycopg2-binary Tải Failover Test Script wget https://ws-assets-prod-iad-r-iad-ed304a55c2ca1aee.s3.us-east-1.amazonaws.com/2a5fc82d-2b5f-4105-83c2-91a1b4d7abfe/simple_failover.py "
},
{
	"uri": "/1-preparation/",
	"title": "Prepare Resources",
	"tags": [],
	"description": "",
	"content": "In this chapter, we will perform:\nCreate 1 VPC with 2 Public Subnets, 2 Public Subnets Create 1 Security Group for EC2 Instance, 1 Security Group for PostgreSQL and RDS Proxy Create 1 IAM Role for EC2 Instance Modify IAM Role for EC2 Instance Note: All resources in this workshop use Region Singapore (ap-southeast-1) Content 1.1 Create VPC\n1.2 Create Security Group\n1.3 Create IAM Role for EC2\n1.4 Create EC2 Instance\n1.5 Modify IAM Role for EC2\n1.6 Connect EC2 Instance\n"
},
{
	"uri": "/",
	"title": "RDS Proxy for PostgreSQL",
	"tags": [],
	"description": "",
	"content": "RDS Proxy for PostgreSQL In this workshop, we will learn the steps to create an RDS Proxy and perform Tests to understand its functionality.\nArchitecture of the workshop Content 1. Prepare Resources\n2. Create RDS PostgreSQL\n3. Store a Secret\n4. Create IAM Role for RDS Proxy\n5. Create RDS Proxy\n6. Test Multiplexing\n7. Test Failover\n8. Clean Up Resources\n"
},
{
	"uri": "/6-multiplexing/6.1-dbendpoint/",
	"title": "Test with DB Endpoint",
	"tags": [],
	"description": "",
	"content": "Execution sequence Quay trở lại cửa sổ MobaXterm Kiểm tra max_connections của PostgreSQL. Ta thấy kết quả là 403 (Giá trị này sẽ khác nhau tùy thuộc vào Instance Types của DB) psql -h $DBENDP -d postgres -c \u0026#34;SHOW max_connections\u0026#34; Khởi tạo pgbench tại Database postgres pgbench -i -h $DBENDP -d postgres Thực hiện tiến trình pgbench với DB Endpoint. Chờ cho đến khi bài test thực hiện xong (300s). Trong đó: -c 600: Tạo 600 kết nối đồng thời đến PostgreSQL, con số chúng ta lựa chọn sẽ lớn hơn max_connections ở trên 403 -T 300: Thời gian chúng ta chạy test, đơn vị (s) Chuyển hướng tất cả đầu ra sang một tệp có tên temp-op1 pgbench -h $DBENDP -d postgres -c 600 -n --select-only -T 300 -C -P 1 \u0026gt; temp-op1 2\u0026gt;\u0026amp;1 Thực hiện các câu lệnh dưới đây. Các thông báo FATAL cho biết giới hạn max_connections đang bị tấn công vì pgbench đang cố gắng tạo nhiều kết nối hơn giới hạn.\nChúng ta thấy có 204 kết nối bị lỗi. Điều này chứng tỏ số lượng kết nối tối đa mà PostgreSQL (600-204)=396 gần xấp xỉ giá trị max_connections.\nDo bản thân PostgreSQL đã giữ lại một số kết nối cho riêng nó. Bạn có thể xem thêm các thông số cài đặt tại đây runtime-config-connection grep \u0026#34;FATAL\u0026#34; temp-op1 | head\rgrep \u0026#34;FATAL\u0026#34; temp-op1 | wc -l Kết luận:\nKhi kết nối trực tiếp với điểm cuối của phiên bản DB, giá trị max_connections được áp dụng làm giới hạn kết nối và mọi máy khách sẽ không thể tạo kết nối mới nếu đạt đến giới hạn đó.\n"
},
{
	"uri": "/5-rdsproxy/5.2-connectproxy/",
	"title": "Connect RDS Proxy",
	"tags": [],
	"description": "",
	"content": "Execution sequence Quay trở lại cửa sổ MobaXterm Export Environment Variables. Thay đổi \u0026lt;CHANGE_YOUR_PROXY_ENDPOINT_HERE\u0026gt; bằng Proxy Endpoint chúng ta đã lưu lại ở bước 5.1 echo \u0026#34;export PRXENDP=\u0026lt;CHANGE_YOUR_PROXY_ENDPOINT_HERE\u0026gt;\u0026#34; \u0026gt;\u0026gt; /home/ec2-user/.bashrc\rsource ~/.bashrc Đăng nhập vào RDS PostgreSQL với host là Proxy Endpoint\nĐăng nhập thành công bằng Proxy Endpoint như hình bên dưới psql -h $PRXENDP -d postgres Thoát khỏi RDS PostgreSQL exit "
},
{
	"uri": "/4-roleforproxy/4.2-createrole/",
	"title": "Create IAM Role",
	"tags": [],
	"description": "",
	"content": "Execution sequence Tại Giao diện quản trị dịch vụ IAM Chọn Roles Chọn Create role Tại trang Select trusted entity Chọn Custom trust policy Copy và dán đoạn Trust Policy dưới đây, sau đó chọn Next {\r\u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;,\r\u0026#34;Statement\u0026#34;: [\r{\r\u0026#34;Sid\u0026#34;: \u0026#34;\u0026#34;,\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Principal\u0026#34;: {\r\u0026#34;Service\u0026#34;: \u0026#34;rds.amazonaws.com\u0026#34;\r},\r\u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34;\r}\r]\r} Tại trang Add permissions Tại ô tìm kiếm, nhập FCJ-Proxy-Policy Tích chọn FCJ-Proxy-Policy Chọn Next Tại trang Name, review, and create Tại mục Role name, nhập FCJ-Proxy-Role Chọn Create Role "
},
{
	"uri": "/2-rdspostgresql/",
	"title": "Create RDS PostgreSQL",
	"tags": [],
	"description": "",
	"content": "\nIn this chapter, we will learn about:\nHow to create 1 RDS PostgreSQL Cluster How to install PostgreSQL Client and use it to connect to RDS PostgreSQL Content 2.1 Tạo RDS PostgreSQL\n2.2 Cài đặt PostgreSQL Client\n"
},
{
	"uri": "/1-preparation/1.2-createsg/",
	"title": "Create Security Group",
	"tags": [],
	"description": "",
	"content": "Execution sequence Trong giao diện VPC Chọn Security groups Chọn Create security group Tạo Security cho EC2 Instance Tại mục Security group name, nhập EC2-Security-Group Tại mục Description, nhập Security Group for FCJ-Instance Tại mục VPC, click dấu X để chọn FCJ-vpc Trong phần Inbound rule, chọn Add rule thêm 1 Inbound Rule Type chọn SSH, Source chọn Anywhere (0.0.0.0/0) Kéo xuống dưới cùng, chọn Create security group Tạo Security Group cho RDS PostgreSQL và RDS Proxy Tại mục Security group name, nhập DB-Security-Group Tại mục Description, nhập Security Group for RDS PostgreSQL and RDS Proxy Tại mục VPC, click dấu X để chọn FCJ-vpc Trong phần Inbound rule, chọn Add rule thêm 1 Inbound Rule Type chọn PostgreSQL, Source chọn EC2-Security-Group Kéo xuống dưới cùng, chọn Create security group Tại giao diện DB-Security-Group vừa tạo xong, chọn Edit inbound rules Tại giao diện Edit inbound rules Chọn Add rule thêm 1 Inbound Rule Type chọn PostgreSQL, Source chọn DB-Security-Group (Tham chiếu đến Security Group của chính nó) Kéo xuống dưới cùng, chọn Save rules Hoàn thành tạo 2 Security Group "
},
{
	"uri": "/2-rdspostgresql/2.2-installclient/",
	"title": "Install PostgreSQL Client",
	"tags": [],
	"description": "",
	"content": "Execution sequence Quay trở lại cửa sổ MobaXterm Cài đặt PostgreSQL Client sudo amazon-linux-extras install -y postgresql14 Cài đặt postgresql-contrib. Chứa pgbench mà chúng ta sẽ dùng để Test ở những bước sau sudo yum install -y postgresql-contrib Export Environment Variables. Thay đổi \u0026lt;CHANGE_YOUR_DB_ENDPOINT_HERE\u0026gt; bằng RDS PostgreSQL Endpoint chúng ta đã lưu lại ở bước 2.1 Mục đích: đăng nhập RDS PostgreSQL không cần nhập User và Password. Trong đó: PGUSER: RDS PostgreSQL User PGPASSWORD: RDS PostgreSQL Password DBENDP: RDS PostgreSQL Endpoint (DB Endpoint) echo \u0026#34;export PGUSER=postgres\u0026#34; \u0026gt;\u0026gt; /home/ec2-user/.bashrc\recho \u0026#34;export PGPASSWORD=postgres\u0026#34; \u0026gt;\u0026gt; /home/ec2-user/.bashrc\recho \u0026#34;export DBENDP=\u0026lt;CHANGE_YOUR_POSTGRESQL_ENDPOINT_HERE\u0026gt;\u0026#34; \u0026gt;\u0026gt; /home/ec2-user/.bashrc\rsource ~/.bashrc Đăng nhập vào RDS PostgreSQL với host là DB Endpoint\nĐăng nhập thành công bằng DB Endpoint như hình bên dưới psql -h $DBENDP -d postgres In ra các thông tin gồm user, database name hiện tại SELECT current_user, current_database(); Thoát khỏi RDS PostgreSQL exit "
},
{
	"uri": "/7-hafailovers/7.2-dbendpoint/",
	"title": "Test with DB Endpoint",
	"tags": [],
	"description": "",
	"content": "Execution sequence Quay trở lại cửa sổ MobaXterm. Duplicate thêm 1 cửa sổ Terminal\nTại cửa sổ Terminal 1. Chạy Failover Test Script với DB Endpoint python3 simple_failover.py -e $DBENDP -u $PGUSER -p $PGPASSWORD -d postgres Tại cửa sổ Terminal 2. Tiến hành reboot postgresql DB để kiểm tra tín năng chuyển đổi dự phòng aws rds reboot-db-instance --db-instance-identifier postgresql --region ap-southeast-1 --force-failover --query \u0026#39;DBInstance.DBInstanceStatus\u0026#39; Sau một lúc, chúng ta thấy có nhiều lỗi ngoại lệ xảy ra do quá trình chuyển đổi dự phòng của postgresql "
},
{
	"uri": "/6-multiplexing/6.2-proxyendpoint/",
	"title": "Test with Proxy Endpoint",
	"tags": [],
	"description": "",
	"content": "Kiểm tra với Proxy Endpoint Quay trở lại cửa sổ MobaXterm\nThực hiện tiến trình pgbench với Proxy Endpoint. Chờ cho đến khi bài test thực hiện xong (900s). Trong đó: -c 3000: Tạo 3000 kết nối đồng thời đến PostgreSQL, con số chúng ta lựa chọn sẽ lớn hơn max_connections rất nhiều -T 900: Thời gian chúng ta chạy test, đơn vị (s). Đủ lâu để Cloudwatch ghi nhận các sự kiện một cách đầy đủ. Chuyển hướng tất cả đầu ra sang một tệp có tên temp-op2 pgbench -h $PRXENDP -d postgres -c 3000 -n --select-only -T 900 -C -P 1 \u0026gt; temp-op2 2\u0026gt;\u0026amp;1 Monitor with CloudWatch Metrics Truy cập Giao diện quản trị dịch vụ CloudWatch Chọn All metrics Chọn RDS Chọn EndpointName, ProxyName Tại trang EndpointName, ProxyName\nChọn Metric name: ClientConnections, ProxyName: rds-proxy Chọn RDS, sau đó chọn ProxyName, TargetGroup, TargetRole\nTại trang ProxyName, TargetGroup, TargetRole Chọn Metric name: MaxDatabaseConnectionsAllowed, ProxyName: rds-proxy Chọn Metric name: DatabaseConnections, ProxyName: rds-proxy Chọn Graphed metrics Tại mục Statistic, chọn Sum Tại mục Custom, chọn 15m Tiến hành Format để biểu đồ trong dễ nhìn hơn Change Label Name Drag Down Chọn điểm cao nhất ClientConnections: 2992 xấp xỉ 3000 connections chúng ta đã định nghĩa khi chạy câu lệnh pgbench phía trên MaxDatabaseConnectionsAllowed: 396, số lượng kết nối tối đa mà PostgreSQL cho phép DatabaseConnections: 9 Kết luận:\nViệc kết nối đến PostgreSQL thông qua RDS Proxy cho chúng ta một kết quả rất tốt. Với gần 3000 phía Clients nhưng thông qua Proxy chúng ta chỉ cần 9 kết nối tới PostgreSQL.\nBằng cách này RDS Proxy có thể giúp mở rộng quy mô ứng dụng và cũng ngăn chặn việc nhận được lỗi \u0026ldquo;Too many connections\u0026rdquo; từ DB.\n"
},
{
	"uri": "/1-preparation/1.3-roleforec2/",
	"title": "Create IAM Role for EC2",
	"tags": [],
	"description": "",
	"content": "Execution sequence Truy cập Giao diện quản trị dịch vụ IAM Chọn Roles Chọn Create Role Tại trang Select trusted entity\nTại mục Trusted entity type, chọn AWS service Tại mục Service or use case, chọn EC2 Cuộn chuột xuống dưới cùng, chọn Next Tại trang Add permissions\nTại mục Permissions policies, tích chọn AdministratorAccess Cuộn chuột xuống dưới cùng, chọn Next Tại trang Name, review, and create Tại mục Role name, nhập Admin-Role Chọn Create Role "
},
{
	"uri": "/3-secret/",
	"title": "Store a Secret",
	"tags": [],
	"description": "",
	"content": "\nIn this step, we will learn the steps to Store a Secret for RDS PostgreSQL in AWS Secrets Manager\nExecution sequence Go to AWS Secrets Manager Console Select Store a new Secret At Choose secret type page In the Secret type section, select Credentials for Amazon RDS database In the Credentials section In the User name field, enter postgres In the Password field, enter postgres In the Encryption key section, leave the default aws/secretsmanager In the Database section, select postgresql Select Next At Configuration secret page In the Secret name section, enter secretPostgresqlUser Select Next Complete Secret storage in AWS Secrets Manager "
},
{
	"uri": "/7-hafailovers/7.3-proxyendpoint/",
	"title": "Test with Proxy Endpoint",
	"tags": [],
	"description": "",
	"content": "Execution sequence Truy cập Giao diện quản trị dịch vụ RDS Đảm bảo rằng postgresql DB mục Status đã trở lại trạng thái Available do quá trình Test tín năng chuyển đổi dự phòng ở bước 7.2 Quay trở lại cửa sổ MobaXterm\n2. Tại cửa sổ Terminal 1. Chạy Failover Test Script với Proxy Endpoint\npython3 simple_failover.py -e $PRXENDP -u $PGUSER -p $PGPASSWORD -d postgres Tại cửa sổ Terminal 2. Tiến hành reboot postgresql DB để kiểm tra tín năng chuyển đổi dự phòng aws rds reboot-db-instance --db-instance-identifier postgresql --region ap-southeast-1 --force-failover --query \u0026#39;DBInstance.DBInstanceStatus\u0026#39; Sau một lúc, chúng ta nhận thấy có ít lỗi ngoại lệ xảy ra trong quá trình chuyển đổi dự phòng của postgresql Kết luận:\nKhi RDS Proxy được sử dụng, ứng dụng sẽ phục hồi nhanh hơn và nhận được ít lỗi ngoại lệ hơn trong quá trình chuyển đổi dự phòng, điều này chứng tỏ RDS Proxy giúp các ứng dụng trở nên linh hoạt hơn trước các lỗi và khiến những lỗi này ít gây gián đoạn hơn.\nXin chúc mừng, bạn đã thực hiện xong bài workshop. Hãy dọn dẹp tài nguyên để tránh phát sinh thêm chi phí.\n"
},
{
	"uri": "/1-preparation/1.4-createec2/",
	"title": "Create EC2 Instance",
	"tags": [],
	"description": "",
	"content": "Execution sequence Truy cập Giao diện quản trị dịch vụ EC2 Chọn Key Pairs Chọn Create key pair Tại trang Create key pair Tại mục Name, nhập FCJ-keypair Tại mục Key pair type, chọn RSA Tại mục Private key file format chọn .pem Sau đó chọn Create key pair và lưu lại file FCJ-keypair.pem trên máy tính của bạn để sử dụng cho dịch vụ SSH ở những bước kế tiếp Thành công tạo FCJ-keypair Quay lại Giao diện quản trị dịch vụ EC2 Chọn Instances Chọn Launch instances Tại trang Launch an Instance Tại mục Name, nhập FCJ-Instance Tại mục Amazon Machine Image (AMI), chọn Amazon Linux 2 AMI Tại mục Instance type, chọn t2.micro Tại mục Key pair (login), chọn FCJ-keypair đã được tạo ở bước trước Tại phần Network settings chọn Edit Tại mục VPC, chọn FCJ-vpc Tại mục Subnet, chọn FCJ-subnet-public1-ap-southeast-1a Tại mục Auto-assign Public IP, chọn Enable, nếu không Enable thì bạn có thể đã bỏ qua Enable auto-assign public IPv4 address ở bước 1.1 Tại mục Firewall (security groups), chọn Select existing security group, và chọn EC2-Security-Group Kiểm tra lại thông tin và chọn Launch instance Hoàn thành tạo EC2 Instance "
},
{
	"uri": "/4-roleforproxy/",
	"title": "Create IAM Role for RDS Proxy",
	"tags": [],
	"description": "",
	"content": "\nIn this chapter, we will create a Policy and a Role for the RDS Proxy to ensure the necessary permissions allow the Proxy to access the RDS PostgreSQL\nContent 4.1 Create Policy\n4.2 Create IAM Role\n"
},
{
	"uri": "/5-rdsproxy/",
	"title": "Create RDS Proxy",
	"tags": [],
	"description": "",
	"content": "\nIn this chapter, we will learn the steps to create an RDS Proxy and connect to RDS PostgreSQL through this Proxy\nContent 5.1 Create RDS Proxy\n5.2 Connect RDS Proxy\n"
},
{
	"uri": "/1-preparation/1.5-modifyrole/",
	"title": "Modify IAM Role for EC2",
	"tags": [],
	"description": "",
	"content": "Execution sequence Truy cập Giao diện quản trị dịch vụ EC2 Chọn FCJ-Instance Chọn Actions, chọn Security, sau đó chọn Modify IAM Role Tại trang Modify IAM Role Tại mục IAM Role, chọn Admin-Role đã được tạo ở bước 1.3 Chọn Update IAM Role Thành công Modify IAM Role cho FCJ-Instance Lưu lại giá trị Public IPv4 address để chuẩn bị cho bước kế tiếp\n"
},
{
	"uri": "/1-preparation/1.6-connectec2/",
	"title": "Connect EC2 Instance",
	"tags": [],
	"description": "",
	"content": "Execution sequence Chúng ta tiến hành thực hiện SSH vào EC2 Instance FCJ-Instance\nỞ đây chúng ta dùng MobaXterm. Bạn có thể xem chi tiết hơn Cách kết nối EC2 Instance bằng MobaXterm Chọn Session Chọn SSH Tại mục Remote host, nhập Public IPv4 Address đã được lưu lại ở bước trước Chọn Specify username, nhập ec2-user Chọn Advange SSH Settings Chọn use private key, sau đó truy xuất đường dẫn đến file FCJ-keypair.pem đã lưu ở bước 1.4 Chọn OK Kết nối thành công như hình bên dưới\n"
},
{
	"uri": "/6-multiplexing/",
	"title": "Test Multiplexing",
	"tags": [],
	"description": "",
	"content": "In this chapter, we will perform a Test to Check the Multiplexing Capability of the Proxy\nContent 6.1 Test with DB Endpoint\n6.2 Test with Proxy Endpoint\n"
},
{
	"uri": "/7-hafailovers/",
	"title": "Test Failover",
	"tags": [],
	"description": "",
	"content": "In this chapter, we will perform a Test to check the effect of Proxy on the Failover Process.\nContent 7.1 Download Test Script\n7.2 Test with DB Endpoint\n7.3 Test with Proxy Endpoint\n"
},
{
	"uri": "/8-cleanup/",
	"title": "Clean Up Resources",
	"tags": [],
	"description": "",
	"content": "We\u0026rsquo;ll go through the following steps to delete the resources we created in this workshop.\nDelete RDS Proxy Go to RDS Management Console\nSelect Proxies, select rds-proxy Select Actions, then select Delete Make confirmation (if any) to proceed with Delete Delete RDS PostgreSQL Select Databases, select postgresql Select Actions, then select Delete Uncheck Create final snapshot, check I acknowledge\u0026hellip; Enter delete me, then select Delete to proceed with Delete Delete Secret Go to AWS Secrets Manager Console\nSelect Secret, select secretPostgresqlUser Select Actions, then select Delete secret Enter 7 days, then select Schedule deletion to proceed with Delete Delete IAM Role Go to IAM Management Console\nSelect Roles, select Admin-Role, FCJ-Proxy-Role, then select Delete Make confirmation (if any) to proceed with Delete Delete Policy Select Policies, search and select FCJ-Proxy-Policy, then select Delete Make confirmation (if any) to proceed with Delete Delete EC2 Instances Go to EC2 Management Console\nSelect Instances, select FCJ-Instance Select Instance state, select Terminate instance Make confirmation (if any) to proceed with Terminate Delete Key pairs Select Key Pairs, select FCJ-keypair Select Actions, then select Delete Make confirmation (if any) to proceed with Delete Delete Security-Group (After deleting RDS PostgreSQL) Go to VPC Console\nSelect Security Groups, select DB-Security-Group Select Actions, then select Delete security groups Make confirmation (if any) to proceed with Delete Select EC2-Security-Group Select Actions, then select Delete security groups Make confirmation (if any) to proceed with Delete Delete VPC Select Your VPCs, select FCJ-vpc Select Actions, then select Delete VPC Make confirmation (if any) to proceed with Delete "
},
{
	"uri": "/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]